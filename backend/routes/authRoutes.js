import { Router } from 'express'
import { register, verify, login } from '../controllers/authController.js'
import { validate } from '../middlewares/validationMiddleware.js'
import { registerSchema, loginSchema } from '../validations/authValidation.js'

const router = Router()

// POST /api/auth/register
router.post('/register', validate(registerSchema), register)

// GET /api/auth/verify/:token
router.get('/verify/:token', verify)

// POST /api/auth/login
router.post('/login', validate(loginSchema), login)

export default router